
<!DOCTYPE html
  PUBLIC "" "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="description" content="Capture a test image with 3A EXIF information and AEC log messages. Check the Exposure index and AE Target (luma target) when AEC has an oscillation issue. If the AE outdoor and indoor index are too ..." /><meta name="copyright" content="(C) Copyright 2019" /><meta name="DC.rights.owner" content="(C) Copyright 2019" /><meta name="DC.Type" content="task" /><meta name="DC.Title" content="Improve AEC convergence with oscillation issue" /><meta name="DC.Relation" scheme="URI" content="tbv1495660804257.html" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="bjs1474864618697" /><meta name="DC.Language" content="en-us" /><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>Improve AEC convergence with oscillation issue</title><!--  Generated with Oxygen version 17.1, build number 2016020417.  --><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/skins/skin.css"><!----></link><script type="text/javascript"><!--
          
          var prefix = "index.html";
          
          --></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery-1.8.2.min.js"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script></head>
<body onload="highlightSearchTerm()" class="frmBody" id="bjs1474864618697">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><a href="javascript:window.print();" title="Print this page"></a></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td width="75%"></td><td><div class="navheader"></div></td></tr></tbody></table>
   <h1 class="title topictitle1" id="ariaid-title1">Improve AEC convergence with oscillation issue</h1>

   <div class="body taskbody">
      <ol class="ol steps"><li class="li step stepexpand" id="bjs1474864618697__step_N10014_N10011_N1000E_N10001">
            <span class="ph cmd">Capture a test image with 3A EXIF information and AEC log messages.</span>
         </li>
<li class="li step stepexpand" id="bjs1474864618697__step_N1001D_N10011_N1000E_N10001">
            <span class="ph cmd">Check the <span class="keyword parmname">Exposure index</span> and <span class="keyword parmname">AE Target</span> (luma target) when AEC has an oscillation issue. If the AE outdoor and indoor index are too close it can cause the AEC to not converge with an oscillation between the AE indoor or outdoor index boundary.</span>
            <ol type="a" class="ol substeps">
               <li class="li substep">
                  <span class="ph cmd">In the <span class="ph uicontrol">3A Debug</span> dialog
                     box, click the <span class="ph uicontrol">Data</span> tab and select
                        <span class="ph menucascade"><span class="ph uicontrol">AEC Debug Info</span> &gt; <span class="ph uicontrol">Luma and Luma Target Information </span></span> to check the AE Target value.<br /><img class="image" src="kvb1495660850465.png" /><br /></span>
               </li>

               <li class="li substep">
                  <span class="ph cmd">Click <span class="ph uicontrol">Convergence
                        Information</span> to check the Exposure index.<br /><img class="image" src="caq1495660915236.png" /><br /></span>
               </li>

            </ol>

         </li>
<li class="li step stepexpand" id="bjs1474864618697__step_N10062_N10011_N1000E_N10001">
            <span class="ph cmd">Click the <span class="ph uicontrol">AEC Fine Tuning</span>
               tab and open the <span class="ph uicontrol">Luma Target Tuning</span> panel.
               Verify that the <span class="ph uicontrol">Luma Target</span> range between the
               indoor and outdoor zones is at least 100.<br /><img class="image" src="rup1495660896781.png" /><br /></span>
         </li>
<li class="li step stepexpand" id="bjs1474864618697__step_N1007B_N10011_N1000E_N10001">
            <span class="ph cmd">If the range between the indoor and outdoor zones is less than 100, tune the AEC
               default triggers for AE luma target and indoor/outdoor index. Adjust the luma target
               range between indoor and outdoor zones is at least 100. Try setting the outdoor and
               default luma target closer. </span>
         </li>
<li class="li step stepexpand" id="bjs1474864618697__step_N10084_N10011_N1000E_N10001">
            <span class="ph cmd">Capture an image with the test condition to verify the results. If the issue
               persists, tune the AE luma target and tolerance. Try reducing the luma tolerance
               value.</span>
            <div class="itemgroup info">Too small of a luma tolerance can cause AE oscillation to occur. A higher value of
               luma tolerance can cause obvious deviations in image brightness.</div>
         </li>
<li class="li step stepexpand" id="bjs1474864618697__step_N10091_N10011_N1000E_N10001">
            <span class="ph cmd">In the <span class="ph uicontrol">3A Debug</span> dialog box,
               click the <span class="ph uicontrol">Data</span> tab and select <span class="ph menucascade"><span class="ph uicontrol">AEC Debug Info</span> &gt; <span class="ph uicontrol">Flat Scene Information</span></span>. <br /><img class="image" src="kgw1495660920369.png" /><br /></span>
         </li>
<li class="li step stepexpand" id="bjs1474864618697__step_N100B2_N10011_N1000E_N10001">
            <span class="ph cmd">Check the status of the <span class="keyword parmname">Flat scene detection enable</span> parameter (1=enabled).</span>
         </li>
<li class="li step stepexpand" id="bjs1474864618697__step_N100BF_N10011_N1000E_N10001">
            <span class="ph cmd">If flat scene detection is enabled, click <span class="ph uicontrol">Edit Chromatix
                  Data</span> on the <span class="ph uicontrol">ISP Tuning</span> tab. </span>
         </li>
<li class="li step stepexpand" id="bjs1474864618697__step_N100D0_N10011_N1000E_N10001">
            <span class="ph cmd">Select <span class="ph uicontrol">Header type:</span> 3A and
               navigate to <span class="ph menucascade"><span class="ph uicontrol">AEC</span> &gt; <span class="ph uicontrol">Flat Region</span> &gt; <span class="ph uicontrol">Flat Scene Detection</span> &gt; <span class="ph uicontrol">Enable</span></span> and set the value to 0 to disable flat scene detection. The
               recommended default is Disable.<br /><img class="image" src="hfd1495660998010.png" /><br /></span>
         </li>
<li class="li step stepexpand" id="bjs1474864618697__step_N100F5_N10011_N1000E_N10001">
            <span class="ph cmd">Capture an image with the test condition to verify the results. </span>
         </li>
</ol>

   </div>

<div class="related-links">
<div class="linklist linklist relinfo"><strong>Related Tasks</strong><br />

<div class="related_link"><a class="navheader_parent_path" href="tbv1495660804257.html" title="Generate a common set of AEC zone triggers by capturing images under given lux levels in the light booth.">Tune the AEC default triggers (3A v5.x and v6.0)</a></div></div>
</div><div class="navfooter"><!----></div><div class="footer"><table><col width="30%" /><col width="40%" /><col width="30%" /><tr><td class="Qualcommfooter" rowspan="2" align="left">80-NK872-14</td><td class="Qualcommfooter" align="center">Confidential and Proprietary â€“ Qualcomm Technologies, Inc.</td><td></td></tr><tr><td class="Qualcommfooter" align="center"><b>MAY CONTAIN U.S. AND INTERNATIONAL EXPORT CONTROLLED INFORMATION</b></td><td align="right"></td></tr></table></div></body>
</html>