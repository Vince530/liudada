
<!DOCTYPE html
  PUBLIC "" "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="description" content="Determining the best integration time and gamma curve is difficult in scenes with varying brightness. This is especially true for outdoor scenes where a bright sky can cause AEC to reduce the sensor ..." /><meta name="copyright" content="(C) Copyright 2019" /><meta name="DC.rights.owner" content="(C) Copyright 2019" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Bright region" /><meta name="DC.Relation" scheme="URI" content="gpc1495660795131.html" /><meta name="DC.Relation" scheme="URI" content="jor1495661122593.html" /><meta name="documenttype" content="Tuning Guide" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="puu1474864614501" /><meta name="DC.Language" content="en-us" /><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>Bright region</title><!--  Generated with Oxygen version 17.1, build number 2016020417.  --><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/skins/skin.css"><!----></link><script type="text/javascript"><!--
          
          var prefix = "index.html";
          
          --></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery-1.8.2.min.js"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script></head>
<body onload="highlightSearchTerm()" class="frmBody" id="puu1474864614501">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><a href="javascript:window.print();" title="Print this page"></a></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td width="75%"><a class="navheader_parent_path" href="gpc1495660795131.html" title="AEC tuning concepts">AEC tuning concepts</a></td><td><div class="navheader">
<span class="navparent"><a class="link" href="gpc1495660795131.html" title="AEC tuning concepts"><span class="navheader_label">Parent Topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">AEC tuning concepts</span></a></span>  </div></td></tr></tbody></table>
   <h1 class="title topictitle1" id="ariaid-title1">Bright region</h1>

   <div class="body conbody">
      <p class="p">Determining the best integration time and gamma curve is difficult in scenes with varying brightness. This is especially true for outdoor scenes where a bright sky can cause AEC to reduce the sensor gain, resulting in excessive darkening (under exposure) of the rest of the image.</p>

      <p class="p">Each image to be captured is broken into a 64 x 48 section grid. Normally, all of these grid sections are averaged to determine the exposure index. With bright region compensation, small regions that are a certain luma value greater than the average are ignored when the exposure index is determined.</p>

      <p class="p">The Parameter Editor includes bright region parameters that that can be
         adjusted to reduce the bright region metering weight for very bright areas of the scene to
         prevent image underexposure. </p>

      
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="puu1474864614501__ID-table-00000015" class="table" frame="border" border="1" rules="all"><colgroup><col style="width:1.375in" /><col style="width:3.375in" /><col style="width:0.743in" /><col style="width:0.944in" /></colgroup><thead class="thead" style="text-align:left;">
               <tr class="row">
                  <th class="entry cellrowborder" style="text-align:center;vertical-align:top;" id="d34946e44">Parameter</th>

                  <th class="entry cellrowborder" style="text-align:center;vertical-align:top;" id="d34946e47">Description</th>

                  <th class="entry cellrowborder" style="text-align:center;vertical-align:top;" id="d34946e50">Range</th>

                  <th class="entry cellrowborder" style="text-align:center;vertical-align:top;" id="d34946e53">Default</th>

               </tr>

            </thead>
<tbody class="tbody">
               <tr class="row">
                  <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d34946e44 ">bright_region_enable</td>

                  <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d34946e47 ">Use this flag to enable/disable the bright region feature.</td>

                  <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d34946e50 "><p class="p">0 (disable)</p>
<p class="p">1 (enable)</p>
</td>

                  <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d34946e53 ">1 (enabled)</td>

               </tr>

               <tr class="row">
                  <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d34946e44 ">bright_region_thres</td>

                  <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d34946e47 "><p class="p">The threshold to classify if a stats region falls into the bright region category and needs to be compensated. </p>
<p class="p">Multi-zone enabled; 8-bit based</p>
</td>

                  <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d34946e50 ">0 to 255</td>

                  <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d34946e53 ">220 (for all 3 default zones)</td>

               </tr>

               <tr class="row">
                  <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d34946e44 ">bright_weight</td>

                  <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d34946e47 "><p class="p">The adjustment weight applied to the stats region if it falls into the bright region category. </p>
<p class="p">The parameter is used to adjust the bias table weight corresponding to the stats region. </p>
<p class="p">A value &gt; 1.0 increases the bias table weight for the region, and as a result, prevents saturation.</p>
<p class="p">A value &lt; 1.0 performs bright region discard, i.e., ignores the bright regions. </p>
<p class="p">It is recommended to not use too large a value.</p>
<p class="p">Multi-zone enabled </p>
</td>

                  <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d34946e50 ">0.5 to 1.5</td>

                  <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d34946e53 ">1.2 (for all 3 default zones)</td>

               </tr>

               <tr class="row">
                  <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d34946e44 ">min_tweight</td>

                  <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d34946e47 "><p class="p">Minimum threshold on the bias table weight. Any stats regions with weight values that are smaller than min_tweight do not have bright region effects applied. </p>
<p class="p">If needed, increase this value to prevent bright region from working on the saturated regions around the corners (where bias table weight is small).</p>
</td>

                  <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d34946e50 ">TBD</td>

                  <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d34946e53 ">0.0</td>

               </tr>

               <tr class="row">
                  <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d34946e44 ">max_bright_pct</td>

                  <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d34946e47 ">The maximum percentage of bright region to be adjusted. If the bright region percentage exceeds this number, the remaining bright regions do not have bright region effects applied. </td>

                  <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d34946e50 ">0.0 to 1.0</td>

                  <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d34946e53 ">0.25</td>

               </tr>

            </tbody>
</table>
</div>

   </div>

<div class="related-links">
<div class="linklist linklist relinfo"><strong>Related Tasks</strong><br />

<div class="related_link"><a class="navheader_parent_path" href="jor1495661122593.html" title="Image brightness is determined by measuring the average brightness of the overall frame. Bright region tuning reduces the bright region metering weight for very bright areas of the scene to prevent under exposure of the image. Dark region discrimination determines the best exposure to use when capturing images that have dark regions. It adds another method for saturation prevention by decreasing the influence of darker regions from the overall luma metering.">Tune dynamic metering for bright and dark regions</a></div></div>
</div><div class="navfooter"><!---->
<span class="navparent"><a class="link" href="gpc1495660795131.html" title="AEC tuning concepts"><span class="navheader_label">Parent Topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">AEC tuning concepts</span></a></span>  </div><div class="footer"><table><col width="30%" /><col width="40%" /><col width="30%" /><tr><td class="Qualcommfooter" rowspan="2" align="left">80-NK872-14</td><td class="Qualcommfooter" align="center">Confidential and Proprietary – Qualcomm Technologies, Inc.</td><td></td></tr><tr><td class="Qualcommfooter" align="center"><b>MAY CONTAIN U.S. AND INTERNATIONAL EXPORT CONTROLLED INFORMATION</b></td><td align="right"></td></tr></table></div></body>
</html>