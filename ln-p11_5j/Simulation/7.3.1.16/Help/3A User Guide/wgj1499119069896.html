
<!DOCTYPE html
  PUBLIC "" "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="description" content="The unit step size is the size of the smallest exposure adjustment allowed, measured in log base 1.03. A smaller value allows for finer adjustments. However, consider how fine the adjustments the ..." /><meta name="copyright" content="(C) Copyright 2019" /><meta name="DC.rights.owner" content="(C) Copyright 2019" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Unit step size, tolerance, and settled" /><meta name="DC.Relation" scheme="URI" content="gpc1495660795131.html" /><meta name="documenttype" content="Tuning Guide" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="wgj1499119069896" /><meta name="DC.Language" content="en-us" /><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>Unit step size, tolerance, and settled</title><!--  Generated with Oxygen version 17.1, build number 2016020417.  --><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/skins/skin.css"><!----></link><script type="text/javascript"><!--
          
          var prefix = "index.html";
          
          --></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery-1.8.2.min.js"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script></head>
<body onload="highlightSearchTerm()" class="frmBody" id="wgj1499119069896">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><a href="javascript:window.print();" title="Print this page"></a></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td width="75%"><a class="navheader_parent_path" href="gpc1495660795131.html" title="AEC tuning concepts">AEC tuning concepts</a></td><td><div class="navheader">
<span class="navparent"><a class="link" href="gpc1495660795131.html" title="AEC tuning concepts"><span class="navheader_label">Parent Topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">AEC tuning concepts</span></a></span>  </div></td></tr></tbody></table>
	<h1 class="title topictitle1" id="ariaid-title1">Unit step size, tolerance, and settled</h1>

	<div class="body conbody">
		<p class="p">The unit step size is the size of the smallest exposure adjustment allowed, measured in log
			base 1.03. A smaller value allows for finer adjustments. However, consider how fine the
			adjustments the image sensor can allow to adjust its sensitivity (i.e., gain
			granularity, line count granularity, etc) before further lowering the unit step size.
			The base unit of the AEC unit step size is log base 1.03.</p>

		<p class="p">The following table is an example of conversion between log 1.03 and a factor:</p>

		<div class="p">
			
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="wgj1499119069896__table_m23_vfn_l1b" class="table" frame="border" border="1" rules="all"><colgroup><col style="width:51.690821256038646%" /><col style="width:48.30917874396135%" /></colgroup><thead class="thead" style="text-align:left;">
						<tr class="row">
							<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d64586e39">Unit step size [log base 1.03]</th>

							<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d64586e42">Corresponding adjustment factor</th>

						</tr>

					</thead>
<tbody class="tbody">
						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64586e39 ">0.337</td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64586e42 ">1.010</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64586e39 ">0.5</td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64586e42 ">1.015</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64586e39 ">0.667</td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64586e42 ">1.020</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64586e39 ">1</td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64586e42 ">1.030</td>

						</tr>

					</tbody>
</table>
</div>

		</div>

		<p class="p">The table below shows examples of min/max luma tolerance ranges for a luma target of 45,
			highlighting how the luma tolerance range is impacted by unit step size.</p>

		<div class="p">
			
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="wgj1499119069896__table_hmy_zfn_l1b" class="table" frame="border" border="1" rules="all"><colgroup><col /><col /><col /><col /><col /><col /></colgroup><thead class="thead" style="text-align:left;">
						<tr class="row">
							<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d64586e115">Unit step size [log base 1.03]</th>

							<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d64586e118">Corresponding adjustment factor</th>

							<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d64586e121">tolMultUnitStepSize</th>

							<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d64586e124">Luma target</th>

							<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d64586e127">Min luma</th>

							<th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d64586e131">Max luma</th>

						</tr>

					</thead>
<tbody class="tbody">
						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64586e115 ">0.337</td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64586e118 ">1.010</td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64586e121 ">2</td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64586e124 ">45</td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64586e127 ">44.1</td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64586e131 ">45.9</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64586e115 ">0.5</td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64586e118 ">1.015</td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64586e121 ">2</td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64586e124 ">45</td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64586e127 ">43.7</td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64586e131 ">46.4</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64586e115 ">0.667</td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64586e118 ">1.020</td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64586e121 ">2</td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64586e124 ">45</td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64586e127 ">43.3</td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64586e131 ">46.8</td>

						</tr>

						<tr class="row">
							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64586e115 ">1</td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64586e118 ">1.030</td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64586e121 ">2</td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64586e124 ">45</td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64586e127 ">42.4</td>

							<td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d64586e131 ">47.7</td>

						</tr>

					</tbody>
</table>
</div>

		</div>

		<p class="p">It is not recommended to tune tolerance except if oscillations or inconsistencies are observed.
			Making tolerance too large causes discrepancies when converging to the same scene
			several times. Making tolerance too narrow causes AEC to oscillate. Consider tolerance
			in terms of absolute luma value. </p>

		<p class="p">It is important for AEC to stop adjusting exposure as other processes wait for AEC to stop
			adjusting exposure before making their own adjustments. Once AEC converges to its
			target, it waits before declaring it is <em class="ph i">settled</em>. The wait includes the system
			delay between when the exposure is set and when the adjustment is reflected in stats.
			Some convergence processes (e.g., during preflash) must wait an additional number of
			frames (which can be tuned) for synchronization reasons. AEC can also reach the settled
			state when it is reaching the limits of the exposure table (i.e., the scene is too dark
			or too bright to reach desired luma target).</p>

		
	</div>

<div class="related-links"></div><div class="navfooter"><!---->
<span class="navparent"><a class="link" href="gpc1495660795131.html" title="AEC tuning concepts"><span class="navheader_label">Parent Topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">AEC tuning concepts</span></a></span>  </div><div class="footer"><table><col width="30%" /><col width="40%" /><col width="30%" /><tr><td class="Qualcommfooter" rowspan="2" align="left">80-NK872-14</td><td class="Qualcommfooter" align="center">Confidential and Proprietary – Qualcomm Technologies, Inc.</td><td></td></tr><tr><td class="Qualcommfooter" align="center"><b>MAY CONTAIN U.S. AND INTERNATIONAL EXPORT CONTROLLED INFORMATION</b></td><td align="right"></td></tr></table></div></body>
</html>