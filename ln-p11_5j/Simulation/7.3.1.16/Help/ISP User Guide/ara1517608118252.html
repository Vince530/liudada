
<!DOCTYPE html
  PUBLIC "" "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="description" content="The JPG Simulator provides a pipeline simulation result using a JPEG image in less time than running the conventional simulator that uses a raw image. The JPG Simulator result is less accurate because ..." /><meta name="copyright" content="(C) Copyright 2019" /><meta name="DC.rights.owner" content="(C) Copyright 2019" /><meta name="DC.Type" content="task" /><meta name="DC.Title" content="Run a pipeline simulation with JPEG input" /><meta name="abstract" content="The JPG Simulator provides a pipeline simulation result using a JPEG image in less time than running the conventional simulator that uses a raw image." /><meta name="description" content="The JPG Simulator provides a pipeline simulation result using a JPEG image in less time than running the conventional simulator that uses a raw image." /><meta name="DC.Relation" scheme="URI" content="fcl1494872328107.html" /><meta name="DC.Relation" scheme="URI" content="knl1517610511650.html" /><meta name="DC.Relation" scheme="URI" content="tpm1494872218298.html" /><meta name="DC.Relation" scheme="URI" content="dbe1520455911959.html" /><meta name="documenttype" content="Tuning Guide" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="ara1517608118252" /><meta name="DC.Language" content="en-us" /><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>Run a pipeline simulation with JPEG input</title><!--  Generated with Oxygen version 17.1, build number 2016020417.  --><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/skins/skin.css"><!----></link><script type="text/javascript"><!--
          
          var prefix = "index.html";
          
          --></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery-1.8.2.min.js"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script></head>
<body onload="highlightSearchTerm()" class="frmBody" id="ara1517608118252">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><a href="javascript:window.print();" title="Print this page"></a></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td width="75%"><a class="navheader_parent_path" href="fcl1494872328107.html" title="Simulation Tools">Simulation Tools</a></td><td><div class="navheader">
<span class="navparent"><a class="link" href="fcl1494872328107.html" title="Simulation Tools"><span class="navheader_label">Parent Topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Simulation Tools</span></a></span>  </div></td></tr></tbody></table>
	<h1 class="title topictitle1" id="ariaid-title1">Run a pipeline simulation with JPEG input</h1>

	
	<div class="body taskbody"><p class="shortdesc">The JPG Simulator provides a pipeline simulation result using a JPEG
		image in less time than running the conventional simulator that uses a raw
		image.</p>

		<div class="section context" id="ara1517608118252__context_N10015_N10012_N10001"> The JPG Simulator result is less accurate because it does not process all the ISP tuning
			modules, but it can be useful when time is of greater importance than accuracy.<p class="p">The
				JPG Simulator considers a limited selection of tuning module updates: 2DLut, Gamma,
				CCM, White Balance, plus AWB tuning. These five modules affect image color tone and
				can be selectively reversed and then applied after further tuning.</p>
</div>

		<ol class="ol steps"><li class="li step stepexpand" id="ara1517608118252__step_N10020_N1001D_N10012_N10001">
				<span class="ph cmd">Open the appropriate project in Chromatix</span>
			</li>
<li class="li step stepexpand" id="ara1517608118252__step_N10029_N1001D_N10012_N10001">
				<span class="ph cmd">Tune AWB parameters as needed and save the project.</span>
			</li>
<li class="li step stepexpand" id="ara1517608118252__step_N10032_N1001D_N10012_N10001">
				<span class="ph cmd">Copy the project .bin file to the target device.</span>
			</li>
<li class="li step stepexpand" id="ara1517608118252__step_N1003B_N1001D_N10012_N10001">
				<span class="ph cmd">Using that target device, capture a JPEG image with 3A debug data and
					metadata.</span>
			</li>
<li class="li step stepexpand" id="ara1517608118252__step_N10063_N1001D_N10012_N10001">
				<span class="ph cmd">Click the <span class="ph uicontrol">Simulation</span> tab to open the
					conventional simulator. <br /><img class="image" id="ara1517608118252__image_e33_drw_scb" src="dqp1517612331133.png" /><br /></span>
			</li>
<li class="li step stepexpand" id="ara1517608118252__step_N10075_N1001D_N10012_N10001">
				<span class="ph cmd">Run AWB simulation as follows:</span>
				<ol type="a" class="ol substeps" id="ara1517608118252__substeps_vxh_mjw_scb">
					<li class="li substep">
						<span class="ph cmd">Click <img class="image" id="ara1517608118252__image_pf5_zlc_2gb" src="jbw1531257886288.png" /> next o <span class="ph uicontrol">AWB
								DLL</span> to navigate to the AWB simulation .dll provided in
							the software build. Select the .dll file and click <span class="ph uicontrol">Open</span>.</span>
					</li>

					<li class="li substep">
						<span class="ph cmd">Click <img class="image" id="ara1517608118252__image_uqf_dmc_2gb" src="jbw1531257886288.png" /> next to <span class="ph uicontrol">Tuning
								Data</span> to navigate to the tuned data file from the target
							device. Select the target data file and click <span class="ph uicontrol">Open</span>. <strong class="ph b">NOTE:</strong> For subsequent
							simulations, it is important to update the .bin file after making any
							tuning parameter updates. </span>
					</li>

					<li class="li substep">
						<span class="ph cmd">Click <img class="image" id="ara1517608118252__image_rq4_2mc_2gb" src="jbw1531257886288.png" /> next to <span class="ph uicontrol">JPEG
								Image</span> to navigate to the JPEG image from Step 4. Select
							the image file and click <span class="ph uicontrol">Open</span>.</span>
					</li>

					<li class="li substep">
						<span class="ph cmd">Mark the <span class="ph uicontrol">AWB Simulation Only </span>check box.</span>
					</li>

					<li class="li substep">
						<span class="ph cmd">Click
								<span class="ph uicontrol">Load Image</span> and upload any RAW
							image (temporary workaround for this
								release).</span>
					</li>

					<li class="li substep">
						<span class="ph cmd">Click <span class="ph uicontrol">Simulate</span>
							and wait until <em class="ph i">Simulation finished</em> shows in the
							status window. The resulting R/G/B gains and CCT are updated in the
							upper portion of the simulator window.</span>
					</li>

				</ol>

			</li>
<li class="li step stepexpand" id="ara1517608118252__step_N10044_N1001D_N10012_N10001">
				<span class="ph cmd">With the same project open in Chromatix, click the <span class="ph uicontrol">JPG Simulation</span> tab. <br /><img class="image" id="ara1517608118252__image_yzg_bjw_scb" src="flv1517608582841.png" /><br /></span>
			</li>
<li class="li step stepexpand" id="ara1517608118252__step_N10056_N1001D_N10012_N10001">
				<span class="ph cmd">Click <span class="ph uicontrol">Open</span> and upload
					the JPEG image captured in Step 4.</span>
			</li>
<li class="li step stepexpand" id="ara1517608118252__step_N100F0_N1001D_N10012_N10001">
				<span class="ph cmd">Complete the <span class="ph uicontrol">JPG Configuration
						file</span> field as follows:</span>
				<ol type="a" class="ol substeps" id="ara1517608118252__substeps_wk5_4kw_scb">
					<li class="li substep">
						<span class="ph cmd">For a first-time simulation, clear the <span class="ph uicontrol">Use file</span> check box. The simulation
							process populates this field with the path to the generated image config
							file (under the image folder).</span>
					</li>

					<li class="li substep">
						<span class="ph cmd">For a subsequent simulation where a new JPEG image is
							used, clear the <span class="ph uicontrol">Use file</span> check
							box so that the image config file is regenerated.</span>
					</li>

					<li class="li substep">
						<span class="ph cmd">For a subsequent simulation where the same JPEG image
							is used, mark the <span class="ph uicontrol">Use file</span> check
							box to save time by reusing the existing image config file.</span>
					</li>

				</ol>

			</li>
<li class="li step stepexpand" id="ara1517608118252__step_N10126_N1001D_N10012_N10001">
				<span class="ph cmd">Complete the <span class="ph uicontrol">Project Configuration
						file</span> field as follows:</span>
				<ol type="a" class="ol substeps" id="ara1517608118252__substeps_ctr_qkw_scb">
					<li class="li substep">
						<span class="ph cmd">For a first-time simulation, clear the <span class="ph uicontrol">Use file</span> check box. The simulation
							process populates this field with the path to the generated project
							config file (under the project folder).</span>
					</li>

					<li class="li substep">
						<span class="ph cmd">For a subsequent simulation using updated parameters,
							clear the <span class="ph uicontrol">Use file</span> check box so
							that the project config file is regenerated.</span>
					</li>

					<li class="li substep">
						<span class="ph cmd">For a subsequent simulation using unchanged parameters,
							mark the <span class="ph uicontrol">Use file</span> check box so
							the simulation saves time by reusing the existing project config
							file.</span>
					</li>

				</ol>

			</li>
<li class="li step stepexpand" id="ara1517608118252__step_N1015C_N1001D_N10012_N10001">
				<span class="ph cmd">Ensure the following fields are populated:</span>
				<div class="itemgroup info">
					<ul class="ul" id="ara1517608118252__ul_a45_dlw_scb">
						<li class="li"><span class="ph uicontrol">Source WB:</span> Populated with the R/G/B gains from
							the uploaded JPEG image</li>

						<li class="li"><span class="ph uicontrol">Target WB:</span> Populated with the R/G/B
							gains read from the tuned pipeline mode (IFE or BPS)</li>

					</ul>

				</div>
			</li>
<li class="li step stepexpand" id="ara1517608118252__step_N1017C_N1001D_N10012_N10001">
				<span class="ph cmd">Complete the <span class="ph uicontrol">Inverse</span> check boxes as follows:</span>
				<div class="itemgroup info">
					<ul class="ul" id="ara1517608118252__ul_ahg_flw_scb">
						<li class="li">When simulating for AWB, ensure that all <span class="ph uicontrol">Inverse</span>
							check boxes are marked.</li>

						<li class="li">If a particular simulation would benefit from inverting any of the four
							modules so that updated parameter values can be applied, mark the check
							box next to the applicable <span class="ph uicontrol">Inverse&lt;module&gt;</span>
							item. Otherwise, clear the check box.</li>

					</ul>

				</div>
			</li>
<li class="li step stepexpand" id="ara1517608118252__step_N101A2_N1001D_N10012_N10001">
				<span class="ph cmd">Complete the <span class="ph uicontrol">Apply</span> check boxes as
					follows:</span>
				<div class="itemgroup info">
					<ul class="ul" id="ara1517608118252__ul_ywr_5lw_scb">
						<li class="li">When simulating for AWB, ensure that all <span class="ph uicontrol">Apply</span> check boxes are marked.</li>

						<li class="li">If a particular simulation would benefit from applying
							any of the four modules with updated parameter values, mark the check
							box next to the applicable <span class="ph uicontrol">Apply&lt;module&gt;</span> item. Otherwise, clear the check
							box.</li>

					</ul>

				</div>
			</li>
<li class="li step stepexpand" id="ara1517608118252__step_N101C4_N1001D_N10012_N10001">
				<span class="ph cmd">Click <span class="ph uicontrol">Simulate</span> and wait until <em class="ph i">Simulation finished</em>
					shows in the Status window. </span>
				<div class="itemgroup stepresult">A simulated image appears in the image pane for evaluating the
					result.</div>
			</li>
</ol>

	</div>

<div class="related-links">
<ul class="ullinks">
<li class="link ulchildlink"><strong><a href="knl1517610511650.html">JPG simulator user interface</a></strong><br />
</li>
</ul>

<div class="linklist linklist relinfo"><strong>Related Information</strong><br />

<div class="related_link"><a class="navheader_parent_path" href="dbe1520455911959.html" title="As an alternative to using the JPG Simulation tool UI, run a JPEG simulation via the command line. To expedite JPEG simulation from multiple images, create and run a batch file with multiple commands.">Run a JPEG simulation from the command line</a></div></div>

<div class="linklist linklist relinfo"><strong>Related Tasks</strong><br />

<div class="related_link"><a class="navheader_parent_path" href="tpm1494872218298.html" title="Use this procedure to run an AWB simulation or a pipeline simulation, or both. The pipeline simulation generated by this tool requires the use of a raw image.">Run AWB and pipeline simulations from the simulation tab</a></div></div>
</div><div class="navfooter"><!---->
<span class="navparent"><a class="link" href="fcl1494872328107.html" title="Simulation Tools"><span class="navheader_label">Parent Topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Simulation Tools</span></a></span>  </div><div class="footer"><table><col width="30%" /><col width="40%" /><col width="30%" /><tr><td class="Qualcommfooter" rowspan="2" align="left">80-NK872-13</td><td class="Qualcommfooter" align="center">Confidential and Proprietary – Qualcomm Technologies, Inc.</td><td></td></tr><tr><td class="Qualcommfooter" align="center"><b>MAY CONTAIN U.S. AND INTERNATIONAL EXPORT CONTROLLED INFORMATION</b></td><td align="right"></td></tr></table></div></body>
</html>